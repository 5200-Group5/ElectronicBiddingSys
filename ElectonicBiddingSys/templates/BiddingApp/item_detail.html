<!DOCTYPE html>
<html lang="en">
    <head>
        {% load static %}
        <meta charset="UTF-8" />
        <title>{{ item.name }}</title>
        <link rel="stylesheet" href="{% static 'item_detail.css' %}" />
    </head>
    <body>
        <div class="item-container">
            <h1>{{ item.name }}</h1>
            <img src="{{ item.image_url }}" alt="{{ item.name }}" />
            <p>{{ item.description }}</p>
            <p>Starting Bid: {{ item.starting_price }}</p>

            <h2>Place Your Bid</h2>
            <form method="post" action="{% url 'bidding:place_bid' item_id=item.item_id %}">
                {% csrf_token %}
                <label for="bid_amount">Your Bid:</label>
                <input
                    type="number"
                    id="bid_amount"
                    name="bid_amount"
                    min="{{ item.starting_price }}"
                    required
                />
                <button type="submit">Place Bid</button>
            </form>

            <h2>Current Bids</h2>
            <ul>
                {% for bid in item.bids.all %}
                <li>{{ bid.user.username }}: {{ bid.amount }}</li>
                {% empty %}
                <li>No bids yet.</li>
                {% endfor %}
            </ul>
        </div>
    </body>
</html>